#+TITLE: PhD Log
#+AUTHOR: Tigany Zarrouk
#+LATEX_HEADER: \usepackage[hyperref,x11names]{xcolor}
#+LATEX_HEADER: \usepackage{physics}
#+LATEX_HEADER: \usepackage{cases}
#+LATEX_HEADER: \graphicspath{ {./} }
#+LATEX_HEADER: \usepackage{tikz}
#+LATEX_HEADER: \usetikzlibrary{arrows,plotmarks,calc,positioning,fit}
#+LATEX_HEADER: \usetikzlibrary{shapes.geometric, decorations.pathmorphing, patterns, backgrounds}
#+LATEX_HEADER: \newcommand{\tikzremember}[1]{{  \tikz[remember picture,overlay]{\node (#1) at (0,11pt) { };}}}
#+LATEX_HEADER: \tikzset{snake it/.style={decorate, decoration=snake}}
#+LATEX_HEADER: \usepackage[nottoc]{tocbibind}




* Tasks


** TODO Ti3Al report---DFT chapter 
- Start with the theory of DFT with the HK theorem and KS equations to solve
  for the density.
- Talk a bit about the approximations that are made. 
- Alloy theory and the structure of Ti3Al
- Look at literature to do with all of this. Go through why solutes are
  incredibly important and why it is necessary do to this research.
- How can solutes lead to failure and why is oxygen in particular bad for the alloy.
- Go into the calculations and what I have done for them
- Is it wavy or planar slip
- Cite the research about the Fe and C vacancy concentration and what the
  implications are for alloy research
- What can I add to the research. 


** TODO Ti/Ti3Al DFT oxygen interstitial/vacancy binding energy 
Want to find the vacancy formation energy, and the dissolution energy of
oxygen interstitials at different sites in the Ti3Al lattice. 

From these measurements we can then do a final calculation on the binding
energy of oxygen to a vacancy thus elucidating if it is favourable comapared
to just the normal positions. 

This will provide insight into the high amount of vacancies with oxygen. 
*** Notes on the calculations
**** Setting up relaxation
- To set up one calculates the self consistent density first by not initiating
relaxation. 

- Using the OPTIONS_HF flag one can minimise the energy with respect to the
Harris-Foulkes energy, which is far faster. And it would use the initial
electron density for the relaxation, and then only calculate the density using
the overlap of atomic densities. 

One is then able to minimise the energy accordingly. 

**** Basis set optimisatons

***** Notes on the basis set
It has been seen that the a smaller sphere radius for the oxygen was giving a much
larger overlap (~17%) in the T2 interstitial site than any of the octahedral
sites, which have an overlap of ~1.6%. 

This would have decreased the accuracy of the results. 

So to decrease the radius of the oxygen and to increase the completeness of
the basis set one can introduce plane waves between certain energies such that
the plane wave basis set is more complete.

This should make the Harris-Foulkes energy smaller by the variational
principle. 

<2019-05-23 Thu 18:19>

It seems that there is an optimal sphere radius of around 0.8. 
The best plane wave energy max seems to be at the maximum of around 3 Rydberg,
but this is at the edge of the range of search so it seems that the range
needs to be extended such that an optimum can be found before the basis set
becomes overcomplete. 

<2019-05-24 Fri 16:05>

There seems to be an optimum. I shall stop putting the plane wave basis set up
in energy and now making pwemax = 4.0 ryd. 

The best sphere radius for the oxygen is 0.78.


<2019-05-24 Fri 18:01>

Asking Dimitar about the plane wave basis set, he said to use the defaulf
values that are generated when making a blm file. 



***** Perfect lattice
spec name old rmax new rmax ratio 
1 Ti 2.707297 3.024213 1.117060 
2 Al 2.638772 2.947667 1.117060

Ti RSMH= 1.805 1.805 1.196 1.805 EH= -0.1 -0.1 -0.1 -0.1 
   RSMH2= 1.805 1.805 1.269 EH2= -0.9 -0.9 -0.9 P= 4.699 4.466 3.875 4.155 5.089 
Al RSMH= 1.759 1.759 1.352 EH= -0.1 -0.1 -0.1 
   RSMH2= 1.759 1.759 EH2= -0.9 -0.9 P= 3.837 3.75 3.392 4.13 5.089

gmax = 6.6

Ti RSMH= 1.805 1.805 1.269 1.805 EH= -0.1 -0.1 -0.1 -0.1 
   RSMH2= 1.805 1.805 1.269 EH2= -0.9 -0.9 -0.9 P= 4.699 4.466 3.875 4.155 5.089 
Al RSMH= 1.759 1.759 1.759 EH= -0.1 -0.1 -0.1 RSMH2= 1.759 1.759 EH2= -0.9 -0.9 P= 3.837 3.75 3.392 4.13 5.089

***** O2 site (least overlap)
spec name old rmax new rmax ratio 
1 Ti 2.663548 2.746597 1.031179 
2 Al 2.576718 2.746597 1.065928 
3 O 1.662251 1.714079 1.031179

Ti RSMH= 1.776 1.776 1.254 1.776 EH= -0.1 -0.1 -0.1 -0.1 RSMH2= 1.776 1.776 1.254 
   EH2= -0.9 -0.9 -0.9 P= 4.686 4.447 3.874 4.155 5.089 PZ= 0 13.9381 
Al RSMH= 1.718 1.718 1.718 EH= -0.1 -0.1 -0.1
   RSMH2= 1.718 1.718 EH2= -0.9 -0.9 P= 3.83 3.74 3.389 4.13 5.089 
O RSMH= 0.845 0.82 1.108 1.108 EH=-0.505 -0.1 -0.1 -0.1 RSMH2= 0.845 0.82 
   EH2= -1.305 -0.9 P= 2.886 2.858 3.25 4.11

***** O1 site (next least overlap)
spec name old rmax new rmax ratio 
1 Ti 2.641151 2.734882 1.035489 
2 Al 2.638731 3.547117 1.344251 
3 O 1.666646 1.725793 1.035489

gmax = 9.8
Ti RSMH= 1.761 1.761 1.246 1.761 EH= -0.1 -0.1 -0.1 -0.1 
   RSMH2= 1.761 1.761 1.246 EH2= -0.9 -0.9 -0.9 P= 4.679 4.437 3.873 4.155 5.089
   PZ= 0 13.9376 
Al RSMH= 1.759 1.759 1.759 EH= -0.1 -0.1 -0.1 
   RSMH2= 1.759 1.759 EH2= -0.9 -0.9 P=3.837 3.75 3.392 4.13 5.089 
O RSMH= 0.846 0.821 1.111 1.111 EH= -0.506 -0.1 -0.1 -0.1 RSMH2= 0.846 0.821
EH2= -1.306 -0.9 P= 2.886 2.859 3.25 4.11

***** T1 site (next most overlap)

spec name old rmax new rmax ratio 
1 Ti 2.654621 2.490980 0.938356 
2 Al 2.586159 2.447921 0.946547 
3 O 1.473639 1.382798 0.938356

gmax = 8.9

Ti RSMH= 1.77 1.77 1.251 1.77 EH= -0.1 -0.1 -0.1 -0.1 
   RSMH2= 1.77 1.77 1.251 EH2= -0.9 -0.9 -0.9 P= 4.683 4.443 3.874 4.155 5.089
   PZ= 0 13.9379 
Al RSMH=1.724 1.724 1.724 EH= -0.1 -0.1 -0.1 RSMH2= 1.724 1.724 EH2= -0.9 -0.9 
   P= 3.831 3.742 3.389 4.13 5.089 
O RSMH= 0.831 0.982 0.982 0.982 EH= -0.474 -0.1 -0.1 -0.1 RSMH2= 0.831 0.982 
  EH2= -1.274 -0.9 P= 2.871 2.845 3.25 4.11

***** T2 site (Most overlap)
# 3 ti atom coordination and al atom on to



*** Vacancy formation energy definition

$$ \Delta E_{\text{f}}^{\text{vacancy}} = \lim_{N_\text{a} \to \infty} 
                                            \big\{E(N_\text{a}, 1) 
                                               - E(N_\text{a} - 1, 0)   \big\}  $$

Where the first argument of the energy function is the number of lattice sites
and the second denotes the number of vacancies. cite:Finnis1997

*** Dissoluton energy of species definition

The solution enthalpy of particular species is given by 

$$ E_{text{solution}} = E( \text{Ti}_{N}X_1 ) - E( \text{Ti}_{N}) - E( X ) $$

This is the same as  a formation energy $\Delta E^{\text{f}}_{\text{O}}$
*** Vacancy-solute binding energy 
cite:wolverton07_solut_vacan_bindin_alumin

$$ -E_{\text{bind}}( X - \text{Vac} ) = E( \text{Ti}_{N - 2} X_1 \text{Vac}_1 )
                                         + E( \text{Ti}_{N}) 
                                         - E( \text{Ti}_{N - 1} X_1 ) 
                                         - E( \text{Ti}_{N - 1} \text{Vac}_1 ) $$

where Vac is a vacancy, X is a solute impurity. The binding energy is negative
here to keep with the convention that a /positive/ binding energy is
/favourable/.

I think that there really is a minus sign here


cite:deng16_ab_initio_solut_inter_impur

$$ E_{\text{bind}}^{V - X} =   + E( \text{Ti}_{N - 1} X_1 ) 
                               + E( \text{Ti}_{N - 1} \text{Vac}_1 ) 
                               - E( \text{Ti}_{N - 2} X_1 \text{Vac}_1 )
                               - E( \text{Ti}_{N})                       $$

*** Dilute impurity energy and Vacancy formation energy  
cite:wolverton07_solut_vacan_bindin_alumin
$$ E_{text{impurity}}(X) = E( \text{Ti}_{N-1}X_1 ) 
                         + \frac{N-1}{N} E(\text{Ti}_{N}) 
                         - E( X ) $$

$$ E_{text{vacancy}}(\text{Vac}) = E( \text{Ti}_{N-1}\text{Vac}_1 ) 
                                     + \frac{N-1}{N} E(\text{Ti}_{N}) $$





*** Basis set


*** Relevant papers 
cite:bakulin17_absor_diffus_oxygen_ti3al_alloy 

cite:wei11_effec_o_binar_phase_tial_ti3al_alloy

cite:bakulin18_effec_impur_format_energ_point

cite:mishin00_diffus_ti_al_system

cite:koizumi08_oxygen_diffus_ti3al_singl_cryst




Koizumi states that there is a preference for the interstitial site that is O1
(6 Ti atom coordination). O2 sites (4 Ti & 2 Al atom coordination), is of higher
energy. 

| Site | Neighbouring atoms |
|------+--------------------|
| O1   | 6 Ti               |
| O2   | 4 Ti, 2 Al         |
| T1   | 3 Ti, 1 Al (on Ti) |
| T2   | 3 Ti, 1 Al (on Al) |

on Ti: the tetrahedral site is located just above a Ti atom in the c-axis direction.
on Al: the tetrahedral site is located just above an Al atom in the c-axis direction.



E_vacancy_formation
| Author         | Geometry       |  V_Ti |  V_Al |
|----------------+----------------+-------+-------|
| Baulkin (2018) | 2 x 2 x 2      | 2.209 | 2.894 |
| Mishin  (2000) | Embedded atom? | 1.314 | 1.805 |


E_absorption = - E_solution 
The lower the solution the higher the binding energy 
the higher the absorption energy, the higher the binding energy. 

| Author         | Geometry                            |   O1 |   O2 |   T1 |   T2 |
|----------------+-------------------------------------+------+------+------+------|
| Wei     (2011) | Ti3Al/TiAl interface (6 & 6 layers) | 6.23 | 4.75 | 4.20 | 3.83 |
| Baulkin (2017) | 2 x 2 x 2                           | 6.16 | 4.69 | 4.24 | 3.78 |

During relaxation it was found that the tetrahedral sites are unstable and
that they actually prefer the hexahedral sites (Baulkin). 

The chemical potential/diatomic reference energy for the oxygen molecule
decreases with increasing temperature. 
|----+------+-------+-------+------+-------+-------+-------+-------+--------+--------|
| T  | (K)  |     0 |   500 | 1000 |  2000 |  2500 |  3000 |  4000 |   4500 |   5000 |
| μO | (eV) | −4.35 | −4.89 | −5.5 | −6.83 | −7.54 | −8.27 | −9.78 | −10.55 | −11.34 |


cite:hagen98_point_defec_chemic_poten_order_alloy

Looked at point defects and soluted in an $\text{A}_m\text{B}_n$ lattice. 

It is difficult to determine the concentrations of both vacancies and antisite
(substitutional of the other alloying element) defects reliably due to:
- Slow rates of diffusion -> Long equilibriation times.

Point-defect concentrations intimiately linked to chemical potentials of the
constituents, and these chemical potentials can be used to discuss relative
stability of different grain-boundary structures by comparing excess free
energies. 

We can say that there exists two sublattices, an A sublattice of $m$ sites and a B
sublattice of $n$ sites, with all atoms of a particular type only belonging to that
sublattice. 

The alloy deviates slightly from stochiometry so we have
$\text{A}_{x}\text{B}_{1-x}$ where we suppose $x$ to be within a few percent
of $m/(m+n)$. Each site of each sublattice can by occupied by its own atom or
an atom of the other kind or a vacancy.

$c_{aa}$ = concentration of A atoms on the A sublattice; 
$c_{bb}$ = concentration of B atoms on the B sublattice;        
$c_{ab}$ = concentration of A atoms on the B sublattice;       
$c_{ba}$ = concentration of B atoms on the A sublattice;       
$c_{va}$ = concentration of vacancies on the A sublattice;     
$c_{vb}$ = concentration of vacancies on the B sublattice.

Number of A and B sublattice cites are $Nm$ and $Nn$. $N$ is the number of
fomulae units, which can vary due to the creation/annihilation of vacancies
when the temperature or stochiometry varies, while the ratio $m/n$ is
constant. 

A canonical ensemble is assumed so that the total numbers of A and B atoms are
conserved. 

There are 7 unknowns in a statistical model of the concentrations, $c_i$ and
$N$ and they satisfy the constraints 

\[ c_{aa} + c_{ba} + c_{va} = 1  \] 
\[ c_{bb} + c_{ab} + c_{vb} = 1  \]

There are fixed numbers $n_a$ and $n_b$ of A and B atoms are given by 

\[ N ( m c_{aa}  +  n c_{ab} )  =  n_a \]
\[ N ( m c_{ba}  +  n c_{bb} )  =  n_b \]

There are seven unknowns and four equations so there are three independent
variables. The conservation of atoms constrains the possible defects which can
be generated thermally. The effect of possible defect clustering or ordering
is not included. 


For a material of a single element, the calculation of, for example, the
vacancy formation energy is simple: calculate the total energy of a perfect
lattice and subtract it from the energy of a lattice with a defect. This is
unique if $N$ is sufficiently large and /the same number of atoms is compared/
with and without the defect. 

For an ordered alloy the stochiometry comes into account, so it is not as
simple. The physical consequences, of having a working definition, are that we
take the equilibrium concentrations of the four point defects and that they
must be independent of the definition adoped for the point-defect energies, as
long as the formulation is consistent. 

If all we want at the end of the calcuation are the equilibrium point-defect
concentrations, we do not need single point-defect energies, but rather the
energies of threee independent stociometry-conserving complex defects. For
example it is possible to compare the energy of a block AB containing a pair of
vacancies or a triple defect with the energy of the same numbers of A and B
atoms in a perfect crystal. However the above uniquely defined complex defect
energies can be constructed simple from calculations of individual point-deect
energies. 


$e_{\text{mol}}$: Cohesive energy / energy per unit mole.  
We can arbitrariliy divide this between atoms of A and B type. This is a
natural division in EAM potentials or BOP potentials which allocate energies to
each atom. 

\[ e_{\text{mol}} = m e_{aa} + n e_{bb}  \]

The energy of a block containing $Nm$ sites of sublattice A and $Nn$ sites of
sublattice B is now:


\[ E = Nm ( c_{aa} e_{aa} + c_{ba} e_{ba} + c_{va} e_{va} ) 
     + Nn ( c_{bb} e_{bb} + c_{ab} e_{ab} + c_{vb} e_{vb} ) \]

The assumption has been made that the point defects are assumed to be
sufficiently dilute that interactions may be neglected. 

We can caw calculate the formation energy $e_{vb}$ of a B vacancy. Construct
block of $N$ formula units with $Nm$ sites of A, fully occupies by type A
atoms, and $Nn - 1$ sites of type B with a vacancy on the remaining site.

\[ e_{vb} = E(N, vb) - Nm e_{aa} - ( Nn - 1 ) e_{bb} \]

The energy of an A antisite is:
\[ e_{ab} = E(N, ab) - Nm e_{aa} - ( Nn - 1 ) e_{bb} \]

One can define stochiometry-conserving complexes (in the case of NiAl) 

\[ e_{2v} =   e_{va} + e_{vb} \]
\[ e_{ta} = 2 e_{vb} + e_{ba} - e_{bb} \]
\[ e_{tb} = 2 e_{va} + e_{ab} - e_{aa} \]

This formalism can be generalised to finite temperature if for /energy/ we read
/free energy/ and the include both the vibrational entropy and the effect of
temperature on the formation energies. (We are not including configurational
entropy at this stage). Essentially one can do phonon calculations and then
obtain the entropy from standard formulae. The effect is to add $- Ts_i$ to
each of the $e_i$.


To find the enthalpy of the defected crystal, neglecting elastic strains, the
total volume can be written as 

\[ V = Nm ( c_{aa} \Omega_{aa} + c_{ba} \Omega_{ba} + c_{va} \Omega_{va} ) 
     + Nn ( c_{bb} \Omega_{bb} + c_{ab} \Omega_{ab} + c_{vb} \Omega_{vb} ) \]

where $\Omega_i$ are the partial molar volume and the quantity $m\Omega_{aa} +
n\Omega_{bb}$ is uniquely defined as the volume per formula unit, but like the
energies this is arbitrarily defined between A and B. 


Relaxation volumes are uniquely defined, like that of a B vacancy:
\[ \Omega_{bb} - \Omega_{vb} = N( m \Omega_{aa} + n \Omega_{bb} ) - V(N,vb)  \]

where $V(N,vb)$ is the volume of a crystal with $N$ formula units with a single
vacancy of the B sublattice. 

Adding the $pV$ term to construc the enthalpy amounts to replacing $e_i$ by
$e_i + p\Omega_i$ everywhere. The total Gibbs free energy without the
configurational part is therefore given by replacing each of the $e_i$ in the
equations for $e_{vb}$ and $e_{ab}$ with $e_i + p\Omega_i - T s_i$. These
pressure and entropy terms are not included in the following for simplicity but
they can be included. 

The configurational entropy of the model system is 

\[ S = Nmk ( c_{aa} \text{log} c_{aa} + c_{ba} \text{log} c_{ba} + c_{va} \text{log} c_{va} ) 
     - Nnk ( c_{bb} \text{log} c_{bb} + c_{ab} \text{log} c_{ab} + c_{vb} \text{log} c_{vb} ) \]

** TODO Approximate Bayesian Computation with Aldo Gielmo

*** Literature
Literature that Aldo has sent me. 
[[file:literature_and_notes/abc%20model%20choice%20Xian.pdf]]
[[file:literature_and_notes/nice%20intro%20ABC.pdf]]

*** Plan
Fit tight-binding model using ABC (Approximate Bayesian Computation). 

Initially we are thinking of using the current tight binding model for Titanium, but really one
could actually do a new one that could be similar: e.g. Zirconium. 

Jana had trouble with this, but using the initial parameters as a starting point, it seems like it
wouldn't be too hard to fit a simple TB model using the objective function files that one has used
for Ti. 

There will be changes to the energy ordering, lattice parameters etc, but it should work quite
well. 



** TODO Read Luke's Thesis for Netherlands
** TODO Write up fitting and optimisation 

Please go to:
[[file:ti_model_notes.org]]

** TODO Gamma Surfaces for New Model 
*** BOP
This was determined using non-periodicity along the z direction. 


Initally the number of layers was not enough. This meant that the atoms which
were at the interface of the stacking fault actually obtained the information
of it's local atomic environment from some the atoms at the free surface,
hence why the stacking fault energy was high as the energy from the free
surfaces was contributing. 

The number of layers was increased to 64 for both the basal and the prismatic
stacking fault. 

**** Basal gamma line

[[file:Images/basal_gamma_line_tbe_15_layers_bop_64_layers.png]]

We can see that the gamma line from the bop model is consistently lower than
that of the one from the direct-diagonalisation plot. This may be due to the
fact that the number of layers in the BOP simulation was much higher (64
compared to 30), so that the actual interaction between the tight-binding
fault surfaces under homogeneous shear boundary conditions had more of an
effect on the stacking fault energy than the free surfaces in the BOP
simulation. 

**** Basal Gamma Surfaces

***** tbe

[[file:Images/basal_gamma_surface_tbe_15_layers_2019-09-24png.png]]

[[file:Images/basal_gamma_surface_tbe_15_z.png]]


**** Prismatic Gamma Surfaces

***** tbe

[[file:Images/prismatic_gamma_surface_tbe_15_layers_2019-09-24.png]]

[[file:Images/prismatic_gamma_surface_tbe_15_z.png]]

** TODO Write first section of Literature review
*** TODO Summarise Stacking Faults and write review
*** TODO Write up the tight binding fitting of oxygen and an explanation for paramagnetism. 
*** TODO Summarise dislocations and Oxygen interactions (review)
** TODO See how the PDOS changes with addition of oxygen and how the tetrahedral/octahedral sites change this.
** TODO Calculate solution enthalpy of oxygen in titanium. 
- The solution enthalpy $E_{\text{sol}}$ and excess volume $\Delta V$ is 
  $$ E_{\text{sol} = E( \text{Ti}_n \text{O} ) - E( \text{Ti}_n ) - E(O) $$
  $$ \Delta V = V( \text{Ti}_n \text{O} ) - V( \text{Ti}_n ) $$
- $E( \text{Ti}_n \text{O} )$ is the excess energ of the bulk supercell with n
  Ti atoms and one impurity atom. $E( \text{Ti}_n )$ is the energy of the pure
  cells.
- Influence of cell sizes and solution enthalpy needs to be considered.

** TODO Has anyone investigated the stacking faults of Omega phase?
   - Maybe as Omega phase doesn't occur that often, perhaps it has not been
     studied in detail.
   - I should look further into thsi
** TODO Finish doing the gamma surfaces for all planes for pure titanium. 
*** Checking the convergence criteria
      - Now checking the convergence criteria.

**** How the lattice parameters change with the fineness of the k mesh
     - Maybe with a less fine k mesh the lattice parameters become
       worse. 
     - SOLUTION: The lattice parameters do not change that much under
     differences with the k mesh. [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/get_hom_shear_bc_gs.py::lattice_parameters_vs_k_mesh(%20tbe_command,%20minimiserf%3D'Nelder-Mead',%20plot%3DTrue,%20data%3Ddata)][File with change of the lattice
     parameters with k mesh. ]]
     [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/a_hcp_vs_nk.png][a vs nk]]
     [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/c_hcp_vs_nk.png][c_vs_nk]]
     [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/e_hcp_vs_nk.png][e_vs_nk]]

***** What if rmaxh is smaller or larger?
      - If rmaxh is is smaller (say rmaxh = 6.7 bohr) then we get the same
        results. 
   #+CAPTION: Variation of energy with k mesh.
   #+NAME:   fig:e_hcp_vs_nk_small_rmaxh.png
      file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/e_hcp_vs_nk_small_rmaxh_better_format.png
   #+CAPTION: Variation of a hcp with k mesh.
   #+NAME:   fig:a hcp_vs_nk_small_rmaxh.png
      file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/a_hcp_vs_nk_small_rmaxh_better_format.png
   #+CAPTION: Variation of c hcp with k mesh.
   #+NAME:   fig:c_hcp_vs_nk_small_rmaxh.png
      file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/c_hcp_vs_nk_small_rmaxh_better_format.png]]
	- Data: [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/a_hcp_vs_nk_rmaxh_small.pkl][a_hcp small rmaxh]], [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/c_hcp_vs_nk_rmaxh_small.pkl][c_hcp small rmaxh]], [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/e_hcp_vs_nk_rmaxh_small.pkl][e_hcp small rmaxh]]. 
      - If rmaxh is larger ( rmaxh = 20 bohr ), all possible interactions must
        be included then. And so we get the same results. 
   #+CAPTION: Variation of energy with k mesh.
   #+NAME:   fig:e_hcp_vs_nk_large_rmaxh.png
	[[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/e_hcp_vs_nk_large_rmaxh.png]]
   #+CAPTION: Variation of a hcp with k mesh.
   #+NAME:   fig:a_hcp_vs_nk_large_rmaxh.png
	[[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/a_hcp_vs_nk_large_rmaxh.png]]
   #+CAPTION: Variation of c hcp with k mesh.
   #+NAME:   fig:c_hcp_vs_nk_large_rmaxh.png
	[[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/c_hcp_vs_nk_large_rmaxh.png]]
      - Data: [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/a_hcp_vs_nk_rmaxh_large.pkl][a_hcp large rmaxh]], [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/c_hcp_vs_nk_rmaxh_large.pkl][c_hcp large rmaxh]], [[file:~/Documents/disl_gsurf/hcp_pris_screw/hcp_relaxed_pris_screw/gamma_surfaces/e_hcp_vs_nk_rmaxh_large.pkl][e_hcp large rmaxh]]
      
**** How does rmaxh change the lattice parameters?

***** How does rmaxh change the energy of a supercell
      - How does the number of neighbours change and what is the relation
	between rmaxh and larger cell sizes.
*** Notes on the model.
    It seems that there is a lot of charge moving around when doing the
    relaxations. 
    I think that this may be due to the fact that there is no Hubbard U
    interactions, a parameter for the coulomb interaction, which stops the
    charges from moving freely. 
    - TBE control file is currently set to this:
     #+BEGIN_SRC bash
TBE: nbas = 128 nspec = 1 verb 31 
TB: rmaxh = 20, m-stat: F-P rlx-vol, rho 
bz: metal
     #+END_SRC
    

     
*** DONE Implement Homogenous Shear boundary conditions for gamma surface calculation.
    CLOSED: [2018-11-19 Mon 12:08]
** Final Model 


 fdd=0.2648249504 qdds=0.5697753882 qddp=0.5648597117 qddd=0.8213593849 b0=49.75575654 p0=1.105068573 b1=-5.09734161 p1=0.6991977165 cr2=3.221758936 cr3=-1.141827235 cr1=-6.0 ndt=2.0 r1dd=6.3741123381 rcdd=9.8768388324 rmaxhm=9.9756072207 
VARGS
    -vfdd=0.2648249504 -vqdds=0.5697753882 -vqddp=0.5648597117 -vqddd=0.8213593849 -vb0=49.75575654 -vp0=1.105068573 -vb1=-5.09734161 -vp1=0.6991977165 -vcr2=3.221758936 -vcr3=-1.141827235  -vcr1=-6.0 -vndt=2.0 -vr1dd=6.3741123381 -vrcdd=9.8768388324 -vrmaxhm=9.9756072207 

 a_hcp   :   5.55908396   5.57678969   5.55908396   5.57678969   0.00031349 1500.00000000      4702.39
 c/a     :   1.61268131   1.58731122  15.65813964  15.41181168   0.06067746 100.00000000     60677.46
 a_omega :   8.84739387   8.73254342   1.10592423   1.09156793   0.00020610  10.00000000        20.61
 c_omega :   5.38456249   5.32343103   0.67307031   0.66542888   0.00005839  10.00000000         5.84
 a_4h    :   5.55471471   5.56325146   0.99846551   1.00000000   0.00000235   1.00000000         0.02
 c_4h    :  17.98986999  17.75908031   1.01299559   1.00000000   0.00016889   1.00000000         1.69
 a_6h    :   5.54952123   5.54639384   1.00056386   1.00000000   0.00000032   1.00000000         0.00
 c_6h    :  27.05646584  26.77136353   1.01064953   1.00000000   0.00011341   1.00000000         1.13
 a_bcc   :   6.27665250   6.17948863   0.89666464   0.88278409   0.00019267   1.00000000         1.93
 a_fcc   :   7.83824788   7.88677000   1.11974970   1.12668143   0.00004805   1.00000000         0.48
 DE(o,h) :  -1.09765167  -0.63343333  -0.07317678  -0.04222889   0.00095777 3000.00000000     28733.15
 DE(4h,h):   1.97809750   3.17160000   0.00791239   0.01268640   0.00002279 2000.00000000       455.82
 DE(6h,h):   2.97676333   3.72005000   0.01190705   0.01488020   0.00000884 2000.00000000       176.79
 DE(b,h) :   9.82662500   7.63520000   0.09925884   0.07712323   0.00048999 200.00000000       979.97
 DE(f,h) :   4.48794500   4.51880000   0.04533278   0.04564444   0.00000010 2000.00000000         1.94
 c_11    : 180.67966452 176.10000000   0.78923542   0.76923077   0.00040019 100.00000000       400.19
 c_33    : 206.14770273 190.50000000   0.83241552   0.76923077   0.00399231 100.00000000      3992.31
 c_44    :  48.30576681  50.80000000   0.73146225   0.76923077   0.00142646 100.00000000      1426.46
 c_12    :  95.22633084  86.90000000   0.84293468   0.76923077   0.00543227 100.00000000      5432.27
 c_13    :  66.46772326  68.30000000   0.74859470   0.76923077   0.00042585  50.00000000       212.92
 M_freq_0:   2.52855122   2.85858719   0.18428037   0.20833333   0.00057855   0.10000000         0.58
 M_freq_1:   2.52855123   2.85858719   0.18428037   0.20833333   0.00057855   0.10000000         0.58
 M_freq_2:   2.52855123   2.85858719   0.18428037   0.20833333   0.00057855   0.10000000         0.58
 M_freq_3:   2.52855124   2.85858719   0.18428037   0.20833333   0.00057854   0.10000000         0.58
 M_freq_4:   5.59220819   5.66706047   0.20558160   0.20833333   0.00000757   0.10000000         0.01
 M_freq_5:   5.59220819   5.66706047   0.20558160   0.20833333   0.00000757   0.10000000         0.01
 H_freq_0:   3.57525560   4.80643423   0.15496829   0.20833333   0.00284783   0.10000000         2.85
 H_freq_1:   3.57525560   5.58010025   0.13348235   0.20833333   0.00560267   0.10000000         5.60
 H_freq_2:   6.11165910   5.65316738   0.22522990   0.20833333   0.00028549   0.10000000         0.29
 H_freq_3:   6.11165910   6.36651842   0.19999350   0.20833333   0.00006955   0.10000000         0.07
 H_freq_4:   7.75488320   6.40050186   0.25241781   0.20833333   0.00194344   0.10000000         1.94
 H_freq_5:   7.75488320   7.64082373   0.21144326   0.20833333   0.00000967   0.10000000         0.01
 bandw. G:   5.03138714   5.87085872   1.42835071   1.66666667   0.05679449   1.00000000       567.94
 bandw. K:   6.21236174   4.97424321   1.13536901   0.90909091   0.05120178   1.00000000       512.02
 bandw. M:   7.05319388   7.78109872   1.51075363   1.66666667   0.02430888   1.00000000       243.09
 bandw. L:   5.72119604   6.34433701   1.50296662   1.66666667   0.02679771   1.00000000       267.98
 bandw. H:   4.78240287   9.70902614   0.44779352   0.90909091   0.21279528   1.00000000      2127.95
 DOSerr_h:   0.00000000   0.00000000   0.00000000   0.00000000   0.00000000   0.10000000         0.00
 DOSerr_o:   0.00000000   0.00000000   0.00000000   0.00000000   0.00000000   0.10000000         0.00

* Notes
** Dislocation dipole simulation

<2019-03-29 Fri>
It seems that actually, for the Clouet method, the /x/ component for the
accomodaton of strain is /positive/. These additions to the tilt vectors make
the dislocatons in a stable position in the quadrupolar array. 

There is no asymmetry in relaxations now between the dislocations of different
sign. This now works as expected. 




** Embedded atom method
This is a semi empirical method that does not take into account directional
bonding. It does not treat covalency or charge transfer. Neither does it
incorporate Fermi surface effects. 

 The main physical property incorporated in the EAM is the moderation of bond
 strength by other bonds (coordination-dependent bond strength).

* Completed Tasks                                                   :ARCHIVE:
** Investigate why rmaxh changes energy
   - Variation of rmaxh does not change the energy
   - Obviously the number of neighbours changes with rmaxh.
   - Conclusion: rmaxh only determines what atoms are its neighbours. 
   - This is the file which investigates this:
     [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/check_rmaxh_energy_neighbours.py][check_rmaxh_energy_number_neighbours]]
   - Here is the data:
     [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/energy_for_energy_vs_rmaxh.pkl][Energy data for energy vs rmaxh]]
     [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/rmaxh_for_energy_or_n_neighbours_vs_rmaxh.pkl][rmaxh data for energy/n_neighbours vs rmaxh]]
     [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/n_neighbours_for_n_neighbours_vs_rmaxh.pkl][n_neighbours for n_neighbours vs rmaxh]]
   - The output pictures are this:
   #+CAPTION: Variation of energy with change in rmaxh
   #+NAME:   fig:Energy_vs_rmaxh.png
   [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/Energy_vs_rmaxh.png]]
   #+CAPTION: Variation of number of neighbours with change in rmaxh
   #+NAME:   fig:n_neighbours_vs_rmaxh.png
   [[file:~/Documents/ti/complete_titanium/ti_01-11-18/mod_rmaxh/n_neighbours_vs_rmaxh.png]]
   
** Show supercell of BOP working 

** Check Stability Criteria
   - Check if the matrix is complex
   - Check if it is positive definite. 
*** Results 
    - Without changing anything, the total energy of hcp in Tony's newest
      model is $E_{\text{tot hcp}} = -0.57230068 \text{Ryd}$
    - I thought perhaps that the lattice parameters and the elastic constants
      that way might produce a different result.
    - Minimising the lattice parameters gives an energy of  $E_{\text{tot
      hcp}} = -0.572351 \text{Ryd}$ with lattice parameters of
     $a_{\text{hcp}} = 5.4908 \text{bohr}$, $c_{\text{hcp}} = 8.8353 \text{bohr}$ giving $c/a_{\text{hcp}} = 1.6091 \text{bohr}$
    - Elastic constants, in GPa are \[ C_{11}=185.4, C_{33}=191.8, C_{44}= 39.7, C_{12}= 56.5, C_{13}= 56.1\]
    - The stability criteria are still satisfied. 
#+BEGIN_SRC bash
Checking Stability for tbe elastic constants. 
 is C_ij matrix positive definite?: True

Criteria for stability:

C_11 - C_12 > 0 
  True

C_11 + C_12 + C_33 > 0 
  True

( C_11 + C_12 ) * C_33 - 2 * C_13**2 > 0 
  True

C_44 > 0 
  True

(C_11 - C_12) > 0
  True

( C_11 + C_12 )*C_33 > 0 
  True

C_11 + C_12 > 0
  True

C_33 > 0
  True

C_11 > 0
  True

#+END_SRC
** Build force constant matrix for hcp 
   - If the force constant matrix is positive definite then there shan't be
     any soft modes.
*** Results
    - File used is [[file:~/Documents/ti/complete_titanium/ti_01-11-18/check_ec_pos_definite/check_ec_pos_definite.py][check_ec_pos_definite.py]]
    - Using Fourth order $\mathcal{O}(h^{4})$ formula for the mixed
      derivatives, one can find the $6\times6$ force constant matrix.
      \begin{align}
        \frac{1}{144 h^2} (     &  8.  (  f_{ 1,-2} +  f_{ 2,-1} + f_{-2, 1} + f_{-1, 2} )\\
                               &-  8.  (  f_{-1,-2} +  f_{-2,-1} + f_{ 1, 2} + f_{ 2, 1} )\\
                               &-  1.  (  f_{ 2,-2} +  f_{-2, 2} - f_{-2,-2} - f_{ 2, 2} )\\
                               &+  64. (  f_{-1,-1} +  f_{ 1, 1} - f_{ 1,-1} - f_{-1, 1} )  )
      \end{align}

      #+BEGIN_SRC bash
Eigenvalues
[-0.3173  0.3173  2.5963 -0.3185  0.3185 -2.5963]

 Is force constant matrix positive definite? False
Force Constant Matrix
[[ 7.7099e-13  2.3901e-11 -2.3901e-11 -3.1729e-01  2.3901e-11 -2.3901e-11]
 [-7.7099e-13  0.0000e+00  0.0000e+00 -7.7099e-13 -3.1847e-01  0.0000e+00]
 [ 7.7099e-13  0.0000e+00  0.0000e+00  7.7099e-13  0.0000e+00  2.5963e+00]
 [-3.1729e-01 -2.5443e-11  2.5443e-11  2.5443e-11 -2.5443e-11  2.5443e-11]
 [-7.7099e-13 -3.1847e-01  0.0000e+00 -7.7099e-13  0.0000e+00  0.0000e+00]
 [ 7.7099e-13  0.0000e+00  2.5963e+00  7.7099e-13  0.0000e+00  0.0000e+00]]
      #+END_SRC

    - This matrix is not positive definite and so the structure is not
      stable.

    - Using second order formula one obtains
      #+BEGIN_SRC bash
Eigenvalues
[ 0.32  -0.32   2.545 -2.545  0.32  -0.32 ]

 Is force constant matrix positive definite? False
Force Constant Matrix
[[ 0.     0.     0.    -0.32   0.     0.   ]
 [ 0.     0.     0.     0.    -0.32   0.   ]
 [ 0.     0.     0.     0.     0.     2.545]
 [-0.32   0.     0.     0.     0.     0.   ]
 [ 0.    -0.32   0.     0.     0.     0.   ]
 [ 0.     0.     2.545  0.     0.     0.   ]]

     #+END_SRC

    - Using another model we get another matrix that is not positive
      definite. 
      #+BEGIN_SRC bash
tbe ti -vhcp=1  -vfddtt=0.4668418806546737 -vqddstt=0.6660968695540497 -vb0tt=94.4011791926749 
-vp0tt=1.1902574670213237 -vb1tt=-26.704816810939302 -vp1tt=0.9999600888309667 
-vcr1=-6.158653986495596 -vcr2=3.9496749559495172 -vcr3=-1.0282840982939534 
-vndt=1.992406298332605 -vahcp=5.5274  -vqq=1.5997394796830335 -vrmaxh=8.51 -vnk=30 
Eigenvalues
[ 1.8512 -1.8512  0.2823 -0.2823 -0.281   0.281 ]

 Is force constant matrix positive definite? False
Force Constant Matrix
[[-2.4672e-13 -4.8572e-13 -5.0114e-13 -2.8232e-01  0.0000e+00  1.0618e-03]
 [-4.8572e-13  0.0000e+00  0.0000e+00  0.0000e+00 -2.8103e-01  0.0000e+00]
 [-5.0114e-13  0.0000e+00  0.0000e+00  1.0618e-03  0.0000e+00  1.8512e+00]
 [-2.8232e-01  0.0000e+00  1.0618e-03 -2.5443e-13  0.0000e+00 -1.0618e-03]
 [ 0.0000e+00 -2.8103e-01  2.4672e-13  0.0000e+00  0.0000e+00  0.0000e+00]
 [ 1.0618e-03 -2.4672e-13  1.8512e+00 -1.0618e-03 -2.4672e-13 -7.4015e-13]]
      #+END_SRC

** Make dislocations go through centre of triangle of atoms 

** Investigate why the gamma surface minima are not along the lines joining the vectors. 

** Change the lattice vectors to make the dislocation displacement fields periodic

** Why is the displacement in the x direction in the graphs of create cells?

** Make sure that the displacements are periodic 

** Calculate the Internal elastic constants, like in Cousins cite:Cousins1979

** Fix pyramidal gamma surface and how it erroneously writes to the site file only 12 atoms
** Python script: remove include statements  -->  One file.  





** DONE Could one see how to use Ising model SFEs and Fourier Interpolation?
CLOSED: [2019-03-13 Wed 19:37]
- Maybe one can do this for the Prismatic stacking fault.
  - The calculation only depends of periodicity perpendicular to the plane
    that one wants the stacking fault on.
  - This means that one can have a stacking that is probably ABCD or something
    Must investigate this further. 
** DONE Periodic dislocation arrays
CLOSED: [2019-03-13 Wed 20:21]
*** Clouet vs Cai S and O configuration
Using an array like this

[[file:Images/prismatic_quadrupole_wrong.png][Dipole to make quadrupolar array: before]]


Gives a variation of sx and sy, the vector that corrects for the spurious
linear term in the periodic solution like
[[file:Images/variation_of_sx_sy.png][Variation of sx and sy]] which should be approximately constant over the whole
of the cell. 

Makes cell like this 
[[file:Images/quadrupole_dislocations_periodic_wrong.png][Dipole to make quadrupolar array: after]]


With higher truncation limit for z we have:

[[file:Images/variationofsxsyhighertrunc.png][Variation of sx and sy with higher truncation (5,30)]]

Have come to the conclusion that Bulatov and Cai's work is reproducible, but
the statement by Emmanuel Clouet, that he took into effect the periodicity of
the lattice, seems dubious, at least from the standpoint of a periodic
displacement field. 

This is because, in Cai's work, one finds a linear correction 
$\mathbf{s}\cdot\mathbf{r}$ to the displacement modified by the periodic
images, $u_{\text{sum}}$.
When the dislocation dipole is in the same glide plane, as in Cai's work, 
the linear correction vector $\mathbf{s}$ (this is a tensor in general but it is just a
vector for one component of the displacement field), should be a constant. And
it is indeed a constant that varies only slightly depending on where one
measures it. 

Following the S or the O configuration like Clouet, one finds that there are
/distinct/ solutions for this $\mathbf{s}$ correction term depending the
position of measurement: there is one solution on the outer edges of the cut
planes and then another distinct solution inside. 

If one goes through and adds in the contribution from periodic dipoles one
does not find a periodic field, and even more troubling, is the fact that
atoms are displaced by a very large amount from the original position in the
unit cell ($\approx 100$ a.u.). 
*** Periodic dislocation dipoles Prismatic plane
*** Results
<2019-03-12 Tue 10:20>
**** Prismatic quadrupole cell size 12 x 12 x 1
***** Intro
Following the prescription set out by Tarrat, Clouet and Cai, one made a
supercell that is in the S configuration with a dislocation dipole that obeys
periodic displacements with an additional strain applied to the cell such that
the plastic strain that is introduced into the cell from the dislocation
dipole is cancelled. 
***** Results
With this cell size one found that there was weird behaviour with the
dislocations. 
This cell used 576 atoms. Upon relaxation, it seemed that the dislocations
were attracted to each other. One of the dislocations, only the one in the
lower left quadrant, dissociated into three partials:
- a $1/3[ 1 -1 0 0 ]$ dislocation which
  had it's core, according to ovito, displaced from the original position by
  roughly c/2 downwards and 2a to the right
- a $1/18[-4 0 4 3]$ dislocation which was situated approximately c/2 down and
  1/2a to the left
- and a $1/18[4 -6 2 -3]$ partial situated c upwards and 1/2a across.
***** Discussion
It seems that a larger cell size is necessary, even though in Clouet they used
cell sizes of 100 and 256 atoms in the S configuration. 

This implies that simply something is wrong with the implementation. 

The cell really is periodic in displacement so that should not be an issue. 

The model is certainly not perfect with the elastic constants being quite
wrong. 

The addition of strain to the lattice follows the paper by Clouet. 
Perhaps a calculation by hand is necessary for validation of this methods. 

The dislocation displacements are calculated using anisotropic elasticty
theory, perhaps the transformation that is being used to transform from the
Cartesian coordinate system of the elastic constants to that of the
dislocation reference frame is not perfect. 

***** TODO Check the transformation of the elastic constants is correct

***** TODO Validate the formula used to add strain to the lattice vectors 

***** TODO Find out what is the interaction energy of these dislocations and see if this has a bearing on the simulation

* Bibliography 
<<bibliography link>>

bibliographystyle:unsrt
bibliography:./bibliography/org-refs.bib

# \bibliographystyle{plain}
# \bibliography{org-refs.bib}

* Current Papers

** Omega phase transformation – morphologies and mechanisms. 
Banerjee, S., Tewari, R., & Dey, G. K. (2006). 
International Journal of Materials Research, 97(7),
963–977. doi:10.3139/146.101327 
cite:Banerjee_2006


Omega is found in both trigonal and perfect (hexagonal) forms. 
#
Positions are:
A: 0. 0. 0. 
B: 2/3 1/3 (1/2-z); 1/3 2/3 (1/2+z)

Where z = 1/6 is cubic symmetry. 

The two atomic sites in the omega unit cell are not equivalent.  B-type atomic
sites are more closely packed as compare to the A-type atomic site.

